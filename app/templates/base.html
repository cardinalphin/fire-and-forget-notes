<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fire & Forget Notes</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f6f7f9; color: #111; }
    header { background: #111; color: #fff; padding: 12px 16px; display:flex; align-items:center; justify-content:space-between; }
    header a { color:#fff; text-decoration:none; margin-right:12px; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 16px; }
    .card { background:#fff; border-radius:14px; padding:16px; box-shadow: 0 2px 14px rgba(0,0,0,0.06); margin-bottom:12px; }
    .btn { border: 0; padding: 10px 12px; border-radius: 10px; cursor:pointer; background:#111; color:#fff; }
    .btn.secondary { background:#e9eaee; color:#111; }
    .btn.small { padding: 6px 10px; border-radius: 10px; font-size: 13px; }
    input[type="text"], textarea { width:100%; padding:10px 12px; border-radius:12px; border:1px solid #d7d9df; font-size: 15px; }
    textarea { min-height: 220px; }
    .muted { color:#666; font-size: 13px; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .pill { display:inline-block; padding:4px 10px; border-radius:999px; background:#f0f1f4; font-size: 12px; }
    .flash { padding:10px 12px; border-radius:12px; margin: 10px 0; }
    .flash.success { background:#e9f7ee; }
    .flash.info { background:#e8f1ff; }
    .flash.warning { background:#fff6dd; }
    .flash.danger { background:#ffe8e8; }
    pre { white-space: pre-wrap; word-wrap: break-word; }
    .results td { vertical-align: top; padding: 10px 8px; border-bottom: 1px solid #eee; }
    table { width:100%; border-collapse: collapse; }
  </style>
</head>
<body>
<header>
  <div>
    <strong style="margin-right:14px;">Fire &amp; Forget Notes</strong>
    <a href="/new">New</a>
    <a href="/search">Search</a>
    <a href="/browse">Browse</a>
  </div>
  <div class="row">
    {% if reindexing %}
      <span class="pill">Indexingâ€¦</span>
    {% endif %}
    <form action="/reindex" method="post" style="display:inline;">
      <button class="btn small secondary" type="submit">Re-index</button>
    </form>
  </div>
</header>

<div class="wrap">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="flash {{category}}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}
</div>
</body>
</html>
